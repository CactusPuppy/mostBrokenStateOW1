import "../main.ostw";

rule: "[heroes/widowmaker.ostw] Increase non-critical scoped shot damage"
Event.OnDamageDealt
if (effectiveHero == Hero.Widowmaker)
if (IsButtonHeld(Button: Button.SecondaryFire))
if (EventAbility() == Button.PrimaryFire)
if (EventWasCriticalHit() == false)
if ([
  Status.Asleep, Status.Frozen, Status.Stunned, Status.KnockedDown
].IsTrueForAny(status => HasStatus(EventPlayer(), status)) == false)
{
  Damage(Victim(), Attacker(), 0.25 * EventDamage());
}
